<div class="d-flex flex-row justify-content-around mb-4">
    {% if album.picture is not empty %}
        <img src="{{ album.picture }}" loading="lazy" class="w-50">
    {% endif %}
    <div class="music-title">
        <span class="music-album">{{ album.name }}</span><br/>
        by <span class="music-auteur">{{ album.auteur }}</span> ({{ album.annee }})
        <span class="badge bg-primary">{{ album.genre }}</span>
    </div>
</div>
<div data-controller="album">
    <div class="d-flex flex-row justify-content-around mb-4">
        {% if album.youtubeKey is not empty %}
            <a class="playlist-link icon-youtube" href="{{ album.youtubeKey|youtubeChannelLink }}"
               data-id="{{ album.youtubeKey }}" data-action="music#popupPlaylist">
                <i class="bi bi-youtube"></i>
            </a>&nbsp;&nbsp;
        {% endif %}
        <a class="btn btn-primary"
           href="{{ path('music_couch', {'auteur' : album.auteur, 'album': album.name }) }}">
            <i class="bi bi-youtube"></i> Enchainer les titres
        </a>
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown"
                    aria-expanded="false">
                <i class="bi bi-binoculars-fill"></i> Search
            </button>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item"
                       href="{{ path('api_playlist', {'id_album': album.id, search_api: (album.auteur|lower != 'divers' ? album.auteur : '') ~ ' ' ~ album.name }) }}">Playlist</a>
                </li>
                <li><a class="dropdown-item"
                       href="{{ path('api_album_picture', {'id_album': album.id, 'search_api': album.name }) }}">Cover</a>
                </li>
            </ul>
        </div>
        <a class="btn btn-secondary edit-album" href="#" data-id="{{ album.id }}" data-action="album#openEditModal"
           title="album edit">
            <i class="bi bi-pencil-square"></i>
        </a>
    </div>
</div>
<table class="table table-dark">
    <tbody>
    {% for track in tracks %}
        <tr>
            <td>{% if track.youtubeKey is not empty and track.youtubeKey != 'nope' %}
                    <a class="video-link" href="{{ track.youtubeKey|popUpYoutube }}" data-action="music#popup"><i
                            class="bi bi-youtube"></i></a>
                {% endif %}
            </td>
            <td>{{ track.numero }}</td>
            <td><strong>{{ track.titre }}</strong></td>
            <td>{% if track.auteur != album.auteur %}
                    <small>{{ track.auteur }}</small>
                {% endif %}
            </td>
            <td>
                {% if track.annee != album.annee %}
                    <small>{{ track.annee }}</small>
                {% endif %}
            </td>
            <td>
                <small>{{ track.duree }}</small>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
